<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css"></style>
</head>
<body>
    <main class="jumbotron jumbotron-fluid">
        <div class="container">
            <div class="row" id="header">
                <div class="col-sm">
                    <a href="#" id="highscores">View Highscores</a>
                </div>
                <div class="col-sm">
                    <p id="score">Score: 0</p>
                </div>
            </div>
            <div class="row2" id="main-content">
                <h2 class="display-12" id="question"></h2>

                <div class="btn-group-vertical">
                    <p class="lead" id="intro"></p>
                    <button type="button" class="btn btn-primary btn-sm" id="button"></button>

                </div>

                <div id="answer">

                </div>
            </div>
        </div>
    </main>
    <script>
        var correct = false;
        var quizzing = false;
        var score = 0;
        var timer = 0;
        var questionIndex;
        var quizInterval;
        var answerInterval;
        var questionQueue = ["Commonly used data types do NOT include:", 
        "The condition in an if/else statement is embedded within __________.", 
        "Arrays in JavaScript can be used to store __________.", 
        "String values must be enclosed within ________ when being assigned to variables.", 
        "A very useful tool used during development and debugging for printing content to the debugger is:"];

        function showAnswer() {
            var timeLeft = 1;
            var answerEl = document.getElementById("answer");

            answerInterval = setInterval(function() {
                if (timeleft === 1)
                {
                    if (correct)
                        answerEl.innerHTML = "<hr>" + "Correct!";
                    else
                        answerEl.innerHTML = "<hr>" + "Wrong!";
                }

                if (timeLeft === 0) 
                {
                    timerEl.innerHTML = "";
                    clearInterval(answerInterval);
                }
                else
                    timeLeft--;
        
            }, 1000);
        }

        function startQuiz() {
            // Make this "76" because it immediately drops by 1 jumping into the interval function.
            score = 76;
            quizzing = true;

            quizInterval = setInterval(function() {
                score--;

                if (score === 0) 
                {
                    clearInterval(quizInterval);
                    submitResults();    
                }
        
            }, 1000);
        }

        function nextQuestion() {
            if (questionIndex === undefined)
            {
                questionIndex = 0;
                startQuiz();
            }
            else
                questionIndex++;

            if (questionQueue[questionIndex] === undefined)
            {
                submitResults();
                return;
            }

            document.getElementById("intro").textContent = "";

            document.getElementById("question").textContent = questionQueue[questionIndex];
            var option1, option2, option3, option4;
            if (questionQueue === 0)
            {
                option1 = "1. strings";
            }
            document.getElementById("answer").textContent = ""
            
        }

        function submitResults() {
            clearInterval(quizInterval);
            document.getElementById("question").textContent = "All done!";
            document.getElementById("intro").textContent = "Your final score: " + score;
        }

        function showScore() {
            if (quizzing)
            {
                document.getElementById("answer").innerHTML = "<hr>" + "Finish your quiz first!";
                return;
            }


        }

        function showIntro() {
            document.getElementById("question").textContent = "Coding Quiz Challenge";
            document.getElementById("intro").textContent = "Try to answer the following code-related questions within the time limit. Keep in mind that incorrect answers will penalize your score/time by 10 seconds!";
            document.getElementById("button").textContent = "Start Quiz";
        }

        // First, show intro.
        showIntro();

        // Button clicked to begin quiz. Start the timer and get the next question.
        document.getElementById("button").addEventListener("click", nextQuestion);
        document.getElementById("option1").addEventListener("click", showAnswer);
        document.getElementById("option2").addEventListener("click", showAnswer)


    </script>
</body>
</html>